# Healthcare Records Backend Production Environment Template
# Copy this file to .env for production deployment and replace placeholder values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
DEBUG=false
ENVIRONMENT=production
SECRET_KEY=REPLACE_WITH_SECURE_64_CHAR_SECRET_KEY
ALGORITHM=RS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# DATABASE CONFIGURATION 
# =============================================================================
DATABASE_URL=postgresql+asyncpg://username:password@hostname:5432/database_name
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DB_POOL_SIZE_MIN=10
DB_POOL_SIZE_MAX=50
DB_POOL_PRE_PING=true
DB_POOL_RECYCLE_SECONDS=3600
DB_CONNECTION_TIMEOUT=30
DB_QUERY_TIMEOUT=60

# =============================================================================
# IRIS API CONFIGURATION
# =============================================================================
IRIS_API_BASE_URL=https://production.iris-system.com/v1
IRIS_API_KEY=REPLACE_WITH_PRODUCTION_IRIS_API_KEY
IRIS_API_SECRET=REPLACE_WITH_PRODUCTION_IRIS_API_SECRET
IRIS_API_TIMEOUT=30
IRIS_API_RETRY_ATTEMPTS=3
IRIS_API_CIRCUIT_BREAKER_THRESHOLD=5
IRIS_API_CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
IRIS_API_RATE_LIMIT_PER_MINUTE=60
IRIS_API_BATCH_SIZE=100
IRIS_API_ENABLE_MOCK=false

# =============================================================================
# ENCRYPTION CONFIGURATION
# =============================================================================
ENCRYPTION_KEY=REPLACE_WITH_PRODUCTION_ENCRYPTION_KEY_32_CHARS_MIN
ENCRYPTION_KEY_ROTATION_ENABLED=true
ENCRYPTION_KEY_ROTATION_INTERVAL_DAYS=90

# =============================================================================
# AUDIT LOGGING CONFIGURATION
# =============================================================================
AUDIT_LOG_RETENTION_DAYS=2555
AUDIT_LOG_ENCRYPTION=true
AUDIT_LOG_IMMUTABLE=true

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://hostname:6379/0
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD
REDIS_SSL=true

# =============================================================================
# CORS SETTINGS
# =============================================================================
ALLOWED_ORIGINS=["https://yourdomain.com","https://api.yourdomain.com"]

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# =============================================================================
# PRODUCTION LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/healthcare/healthcare.log
LOG_MAX_FILE_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_AUDIT_LEVEL=INFO
LOG_SECURITY_LEVEL=WARNING
LOG_PHI_ACCESS=true
LOG_COMPLIANCE_EVENTS=true

# =============================================================================
# SECURITY HEADERS CONFIGURATION
# =============================================================================
SECURITY_HEADERS_ENABLED=true
SECURITY_HEADER_HSTS_MAX_AGE=31536000
SECURITY_HEADER_CSP_ENABLED=true
SECURITY_HEADER_FRAME_OPTIONS=DENY
SECURITY_HEADER_CONTENT_TYPE_OPTIONS=nosniff
SECURITY_HEADER_XSS_PROTECTION=1

# =============================================================================
# DDOS PROTECTION CONFIGURATION
# =============================================================================
DDOS_PROTECTION_ENABLED=true
DDOS_MAX_CONNECTIONS_PER_IP=20
DDOS_RATE_LIMIT_WINDOW_SECONDS=60
DDOS_BAN_DURATION_SECONDS=7200
DDOS_WHITELIST_IPS=["REPLACE_WITH_ADMIN_IPS"]

# =============================================================================
# PRODUCTION MONITORING
# =============================================================================
MONITORING_ENABLED=true
METRICS_ENDPOINT_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=30
PERFORMANCE_MONITORING_ENABLED=true
TRACE_SAMPLING_RATE=0.1

# =============================================================================
# COMPLIANCE SETTINGS
# =============================================================================
SOC2_COMPLIANCE_ENABLED=true
HIPAA_COMPLIANCE_ENABLED=true
FHIR_R4_VALIDATION_ENABLED=true
PHI_ENCRYPTION_REQUIRED=true
CONSENT_VALIDATION_REQUIRED=true

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================
# FHIR Server Configuration
FHIR_SERVER_BASE_URL=https://fhir.yourdomain.com/R4
FHIR_SERVER_AUTH_TOKEN=REPLACE_WITH_FHIR_AUTH_TOKEN

# Document Storage Configuration
DOCUMENT_STORAGE_TYPE=s3
DOCUMENT_STORAGE_BUCKET=your-documents-bucket
DOCUMENT_STORAGE_REGION=us-east-1
DOCUMENT_STORAGE_ACCESS_KEY=REPLACE_WITH_S3_ACCESS_KEY
DOCUMENT_STORAGE_SECRET_KEY=REPLACE_WITH_S3_SECRET_KEY

# =============================================================================
# PRODUCTION DEPLOYMENT SETTINGS
# =============================================================================
# Container Settings
CONTAINER_PORT=8000
CONTAINER_WORKERS=4
CONTAINER_MAX_MEMORY=2G

# Load Balancer Settings
LB_HEALTH_CHECK_PATH=/api/v1/healthcare/health
LB_HEALTH_CHECK_INTERVAL=30

# SSL/TLS Settings
SSL_FORCE_HTTPS=true

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Replace all REPLACE_WITH_* values with actual production values
# 2. Ensure SECRET_KEY is at least 64 characters and cryptographically secure
# 3. Use environment-specific database credentials
# 4. Configure proper CORS origins for your domain
# 5. Set appropriate rate limits based on expected load
# 6. Enable all security headers for production
# 7. Configure proper logging paths with adequate disk space
# 8. Set up monitoring and alerting for all critical metrics

# =============================================================================
# COMPLIANCE REQUIREMENTS
# =============================================================================
# SOC2 Type II: All audit logs must be immutable and encrypted
# HIPAA: All PHI must be encrypted at rest and in transit
# FHIR R4: All healthcare resources must validate against schemas