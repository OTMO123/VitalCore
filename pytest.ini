[tool:pytest]
minversion = 6.0
addopts = 
    -ra 
    -q 
    --strict-markers
    --disable-warnings
    --tb=short
testpaths = 
    app/tests
    app/modules/*/tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (require database)
    security: Security-related tests
    performance: Performance and load tests
    e2e: End-to-end tests
    smoke: Basic functionality tests
    slow: Slow running tests
    chaos: Chaos engineering tests
    physician: Physician role tests
    nurse: Nurse role tests
    admin: Admin role tests
    patient: Patient role tests
    ai_researcher: AI researcher role tests
    unauthorized: Unauthorized access tests
    healthcare: Healthcare-specific tests
    audit: Audit logging tests
    fhir: FHIR R4 compliance tests
    hipaa: HIPAA compliance tests
    compliance: General compliance tests
    database: Database-related tests
    event_bus: Event bus functionality tests
    api: API endpoint tests
    auth: Authentication tests
    iris_api: IRIS API integration tests
    mock: Tests using mock data
    regression: Regression tests
    requires_containers: Tests requiring Docker containers
    order: Test execution order
    patient_role: Patient role-specific tests
    doctor_role: Doctor role-specific tests
    lab_role: Lab role-specific tests
    nurse_role: Nurse role-specific tests
    admin_role: Admin role-specific tests
    ml_prediction: Machine learning prediction tests
    predictive_platform: Predictive platform tests
    clinical_ai: Clinical AI tests
    critical: Critical functionality tests
    infrastructure: Infrastructure tests
    dependencies: Dependency-related tests
    phase5: Phase 5 implementation tests
    clinical_technician: Clinical technician tests
    billing_staff: Billing staff tests
    soc2: SOC2 compliance tests
    immutable: Immutable logging tests
    phi: PHI-related tests
    comprehensive: Comprehensive test suites
    owasp: OWASP security tests
    fhir_bundle: FHIR Bundle processing tests
    fhir_rest_api: FHIR REST API tests
    load_testing: Load testing and performance tests
    healthcare_load: Healthcare-specific load testing
    fhir_validation: FHIR validation tests
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::pytest.PytestRemovedIn9Warning
    ignore::pydantic.warnings.PydanticDeprecatedSince20
    ignore::pydantic._internal._config.PydanticDeprecatedSince20
    ignore::pydantic._internal._generate_schema.PydanticDeprecatedSince20
    ignore::pydantic.fields.PydanticDeprecatedSince20
    ignore::UserWarning
    ignore::RuntimeWarning:asyncio.base_events
    ignore::RuntimeWarning:re._parser
    ignore::RuntimeWarning:sqlalchemy.*
    ignore::RuntimeWarning:asyncpg.*
    ignore::pytest.PytestUnraisableExceptionWarning
    ignore:datetime.datetime.utcnow.*:DeprecationWarning
