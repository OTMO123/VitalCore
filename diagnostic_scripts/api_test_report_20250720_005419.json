{
    "passed_tests":  3,
    "timestamp":  "2025-07-20 00:54:19",
    "failed_tests":  4,
    "total_tests":  16,
    "recommendations":  [
                            "Fix database import issues",
                            "Correct dependency injection",
                            "Ensure Docker services running",
                            "Verify authentication flow"
                        ],
    "success_rate":  18.8,
    "test_results":  [
                         {
                             "Message":  "Starting comprehensive API endpoint testing...",
                             "Timestamp":  "00:54:14.952",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "Base URL: http://localhost:8000",
                             "Timestamp":  "00:54:14.957",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "Timestamp: 2025-07-20 00:54:14",
                             "Timestamp":  "00:54:14.961",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "Testing Authentication",
                             "Timestamp":  "00:54:14.965",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "REQUEST: POST /api/v1/auth/login",
                             "Timestamp":  "00:54:14.967",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:16.257",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "Authentication successful",
                             "Timestamp":  "00:54:16.260",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "Testing Documents Health Endpoint",
                             "Timestamp":  "00:54:16.263",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/documents/health",
                             "Timestamp":  "00:54:16.265",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:16.338",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "Documents health OK: unhealthy",
                             "Timestamp":  "00:54:16.343",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "Testing Patient Creation",
                             "Timestamp":  "00:54:16.347",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "REQUEST: POST /api/v1/healthcare/patients",
                             "Timestamp":  "00:54:16.350",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 201",
                             "Timestamp":  "00:54:17.055",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "Patient created successfully: 646abe98-ad81-4ab9-b21f-f6ed19eb0a91",
                             "Timestamp":  "00:54:17.060",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "Testing Get Patient by ID: 646abe98-ad81-4ab9-b21f-f6ed19eb0a91",
                             "Timestamp":  "00:54:17.064",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/healthcare/patients/646abe98-ad81-4ab9-b21f-f6ed19eb0a91",
                             "Timestamp":  "00:54:17.066",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "ERROR: GET /api/v1/healthcare/patients/646abe98-ad81-4ab9-b21f-f6ed19eb0a91 - Удаленный сервер возвратил ошибку: (404) Не найден.",
                             "Timestamp":  "00:54:17.582",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "   Status Code: 404",
                             "Timestamp":  "00:54:17.585",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "   Response: ",
                             "Timestamp":  "00:54:17.587",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "Get patient failed: 404 - ",
                             "Timestamp":  "00:54:17.592",
                             "Level":  "FAIL"
                         },
                         {
                             "Message":  "5 WHYS ANALYSIS - Get Patient:",
                             "Timestamp":  "00:54:17.594",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 1: Status 404 indicates server error",
                             "Timestamp":  "00:54:17.597",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 2: Check if dependency injection is correct (verify_token vs get_current_user_id)",
                             "Timestamp":  "00:54:17.601",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 3: Verify database imports (database_unified vs database_advanced)",
                             "Timestamp":  "00:54:17.604",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 4: Check if service layer can access patient data",
                             "Timestamp":  "00:54:17.607",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 5: Verify patient model fields match API expectations",
                             "Timestamp":  "00:54:17.610",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "Testing Update Patient: 646abe98-ad81-4ab9-b21f-f6ed19eb0a91",
                             "Timestamp":  "00:54:17.614",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "REQUEST: PUT /api/v1/healthcare/patients/646abe98-ad81-4ab9-b21f-f6ed19eb0a91",
                             "Timestamp":  "00:54:17.618",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "ERROR: PUT /api/v1/healthcare/patients/646abe98-ad81-4ab9-b21f-f6ed19eb0a91 - Удаленный сервер возвратил ошибку: (500) Внутренняя ошибка сервера.",
                             "Timestamp":  "00:54:17.698",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "   Status Code: 500",
                             "Timestamp":  "00:54:17.701",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "   Response: ",
                             "Timestamp":  "00:54:17.707",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "Update patient failed: 500 - ",
                             "Timestamp":  "00:54:17.713",
                             "Level":  "FAIL"
                         },
                         {
                             "Message":  "5 WHYS ANALYSIS - Update Patient:",
                             "Timestamp":  "00:54:17.716",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 1: Status 500 suggests database or service error",
                             "Timestamp":  "00:54:17.720",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 2: Check if database imports are correct",
                             "Timestamp":  "00:54:17.723",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 3: Verify patient model has required fields for update",
                             "Timestamp":  "00:54:17.729",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 4: Check if update validation is working",
                             "Timestamp":  "00:54:17.733",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 5: Verify encryption service is available",
                             "Timestamp":  "00:54:17.736",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "Testing Audit Logs Endpoint",
                             "Timestamp":  "00:54:17.743",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/audit/logs",
                             "Timestamp":  "00:54:17.748",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "ERROR: GET /api/v1/audit/logs - Удаленный сервер возвратил ошибку: (500) Внутренняя ошибка сервера.",
                             "Timestamp":  "00:54:18.474",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "   Status Code: 500",
                             "Timestamp":  "00:54:18.481",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "   Response: ",
                             "Timestamp":  "00:54:18.487",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "Audit logs failed: 500 - ",
                             "Timestamp":  "00:54:18.492",
                             "Level":  "FAIL"
                         },
                         {
                             "Message":  "5 WHYS ANALYSIS - Audit Logs:",
                             "Timestamp":  "00:54:18.500",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 1: Status 500 indicates service unavailability",
                             "Timestamp":  "00:54:18.504",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 2: Check if audit service is properly initialized",
                             "Timestamp":  "00:54:18.509",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 3: Verify audit database tables exist",
                             "Timestamp":  "00:54:18.511",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 4: Check if audit logger dependencies are available",
                             "Timestamp":  "00:54:18.515",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 5: Verify audit service configuration",
                             "Timestamp":  "00:54:18.517",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "Testing Error Handling (Non-existent Patient)",
                             "Timestamp":  "00:54:18.530",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/healthcare/patients/00000000-0000-0000-0000-000000000000",
                             "Timestamp":  "00:54:18.537",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "ERROR: GET /api/v1/healthcare/patients/00000000-0000-0000-0000-000000000000 - Удаленный сервер возвратил ошибку: (500) Внутренняя ошибка сервера.",
                             "Timestamp":  "00:54:18.600",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "   Status Code: 500",
                             "Timestamp":  "00:54:18.604",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "   Response: ",
                             "Timestamp":  "00:54:18.607",
                             "Level":  "ERROR"
                         },
                         {
                             "Message":  "Error handling incorrect: Expected 404, got 500",
                             "Timestamp":  "00:54:18.609",
                             "Level":  "FAIL"
                         },
                         {
                             "Message":  "5 WHYS ANALYSIS - Error Handling:",
                             "Timestamp":  "00:54:18.615",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 1: Should return 404, got 500",
                             "Timestamp":  "00:54:18.621",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 2: Check if proper exception handling exists",
                             "Timestamp":  "00:54:18.626",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 3: Verify database query handles non-existent records",
                             "Timestamp":  "00:54:18.631",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 4: Check if service layer returns appropriate errors",
                             "Timestamp":  "00:54:18.635",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "   Why 5: Verify error mapping in router",
                             "Timestamp":  "00:54:18.638",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "Testing All Health Endpoints",
                             "Timestamp":  "00:54:18.644",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "REQUEST: GET /health",
                             "Timestamp":  "00:54:18.647",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:18.734",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "OK: /health",
                             "Timestamp":  "00:54:18.737",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/healthcare/health",
                             "Timestamp":  "00:54:18.743",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:18.822",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "OK: /api/v1/healthcare/health",
                             "Timestamp":  "00:54:18.827",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/dashboard/health",
                             "Timestamp":  "00:54:18.831",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:18.926",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "OK: /api/v1/dashboard/health",
                             "Timestamp":  "00:54:18.934",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/audit/health",
                             "Timestamp":  "00:54:18.938",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:19.044",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "OK: /api/v1/audit/health",
                             "Timestamp":  "00:54:19.047",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/documents/health",
                             "Timestamp":  "00:54:19.051",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:19.159",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "OK: /api/v1/documents/health",
                             "Timestamp":  "00:54:19.168",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/analytics/health",
                             "Timestamp":  "00:54:19.183",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:19.293",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "OK: /api/v1/analytics/health",
                             "Timestamp":  "00:54:19.296",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/patients/risk/health",
                             "Timestamp":  "00:54:19.299",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:19.424",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "OK: /api/v1/patients/risk/health",
                             "Timestamp":  "00:54:19.428",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/purge/health",
                             "Timestamp":  "00:54:19.431",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:19.524",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "OK: /api/v1/purge/health",
                             "Timestamp":  "00:54:19.528",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "REQUEST: GET /api/v1/iris/health",
                             "Timestamp":  "00:54:19.531",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "RESPONSE: 200",
                             "Timestamp":  "00:54:19.610",
                             "Level":  "DEBUG"
                         },
                         {
                             "Message":  "OK: /api/v1/iris/health",
                             "Timestamp":  "00:54:19.614",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "Health endpoints: 9/9 (100%)",
                             "Timestamp":  "00:54:19.619",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "COMPREHENSIVE 5 WHYS ANALYSIS",
                             "Timestamp":  "00:54:19.626",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "OVERALL RESULTS:",
                             "Timestamp":  "00:54:19.633",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "  Total Tests: 16",
                             "Timestamp":  "00:54:19.636",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "  Passed: 3",
                             "Timestamp":  "00:54:19.639",
                             "Level":  "PASS"
                         },
                         {
                             "Message":  "  Failed: 4",
                             "Timestamp":  "00:54:19.643",
                             "Level":  "FAIL"
                         },
                         {
                             "Message":  "  Success Rate: 18.8%",
                             "Timestamp":  "00:54:19.649",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "ROOT CAUSE ANALYSIS:",
                             "Timestamp":  "00:54:19.653",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "NEEDS WORK - Major issues detected",
                             "Timestamp":  "00:54:19.656",
                             "Level":  "FAIL"
                         },
                         {
                             "Message":  "Recommendation: Systematic debugging required",
                             "Timestamp":  "00:54:19.662",
                             "Level":  "FAIL"
                         },
                         {
                             "Message":  "SPECIFIC FIXES NEEDED:",
                             "Timestamp":  "00:54:19.665",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "1. Check Docker services are running",
                             "Timestamp":  "00:54:19.668",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "2. Verify database connectivity",
                             "Timestamp":  "00:54:19.671",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "3. Fix import errors (database_unified vs database_advanced)",
                             "Timestamp":  "00:54:19.675",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "4. Correct dependency injection issues",
                             "Timestamp":  "00:54:19.677",
                             "Level":  "INFO"
                         },
                         {
                             "Message":  "5. Ensure service layer properly handles encryption/decryption",
                             "Timestamp":  "00:54:19.681",
                             "Level":  "INFO"
                         }
                     ]
}
